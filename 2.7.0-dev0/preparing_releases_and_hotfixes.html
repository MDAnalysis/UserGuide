


  
    
  




<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css" integrity="sha512-b1ASx0WHgVFL5ZQhTgiPWX+68KjS38Jk87jg7pe+qC7q9YkEtFq0z7xCglv7qGIs/68d3mAp+StfC8WKC5SSAg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="shortcut icon" href="_static/logo/mda_favicon.ico">
</head>

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preparing a release &mdash; MDAnalysis User Guide  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/site.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
    <link rel="canonical" href="https://userguide.mdanalysis.org/preparing_releases_and_hotfixes.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="_static/js/versions.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within MDAnalysis User Guide  documentation"
          href="_static/opensearch.xml"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Module imports in MDAnalysis" href="module_imports.html" />
    <link rel="prev" title="Contributing to the user guide" href="contributing_docs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >




  




<a href="index.html">
  
    <img src="_static/user_guide.png" class="logo" alt="Logo"/>
</a>


  
  
  
    <div class="version">
      2.7.0-dev0
    </div>
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/quickstart.html">Quick start guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/README.html">Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.mdanalysis.org/stable/index.html">API docs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data structures</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="universe.html">Universe</a></li>
<li class="toctree-l1"><a class="reference internal" href="atomgroup.html">AtomGroup</a></li>
<li class="toctree-l1"><a class="reference internal" href="groups_of_atoms.html">Groups of atoms</a></li>
<li class="toctree-l1"><a class="reference internal" href="selections.html">Atom selection language</a></li>
<li class="toctree-l1"><a class="reference internal" href="topology_system.html">The topology system</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Trajectories</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="trajectories/trajectories.html">Trajectories</a></li>
<li class="toctree-l1"><a class="reference internal" href="trajectories/slicing_trajectories.html">Slicing trajectories</a></li>
<li class="toctree-l1"><a class="reference internal" href="trajectories/transformations.html">On-the-fly transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units and constants</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Input/output</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reading_and_writing.html">Reading and writing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats/index.html">Format overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats/guessing.html">Guessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats/auxiliary.html">Auxiliary files</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats/selection_exporters.html">Selection exporters</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats/format_reference.html">Format reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#alignments-and-rms-fitting">Alignments and RMS fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#distances-and-contacts">Distances and contacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#trajectory-similarity">Trajectory similarity</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#structure">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#volumetric-analyses">Volumetric analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#dimension-reduction">Dimension reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#polymers-and-membranes">Polymers and membranes</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/README.html#hydrogen-bond-analysis">Hydrogen Bond Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/custom_trajectory_analysis.html">Writing your own trajectory analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/analysis/custom_parallel_analysis.html">Parallelizing analysis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="standard_selections.html">Standard residues in MDAnalysis selections</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_topology.html">Advanced topology concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Example data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to MDAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing_code.html">Contributing to the main codebase</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing_docs.html">Contributing to the user guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Preparing a release</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#release-policy-and-release-numbering">Release policy and release numbering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#typical-workflow-for-preparing-a-release">Typical workflow for preparing a release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary-of-tasks">Summary of tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-develop-branch-ready-for-a-release">Getting the develop branch ready for a release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packaging-the-release">Packaging the release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#completing-the-release">Completing the release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manually-upload-cirrus-ci-wheels-temporary">Manually upload Cirrus CI wheels (temporary)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-conda-forge-packages">Update <cite>conda-forge</cite> packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-release-of-the-userguide">Create a release of the UserGuide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-blog-post-outlining-the-release">Create a blog post outlining the release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#increment-develop-branch-files-ready-for-the-next-version">Increment develop branch files ready for the next version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clean-up-old-developer-builds-of-the-documentation">Clean up old developer builds of the documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module_imports.html">Module imports in MDAnalysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Tests in MDAnalysis</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.mdanalysis.org/dev/index.html">Development docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MDAnalysis User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Preparing a release</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/preparing_releases_and_hotfixes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="preparing-a-release">
<span id="preparing-release"></span><h1>Preparing a release<a class="headerlink" href="#preparing-a-release" title="Permalink to this heading"></a></h1>
<p>Rules for release branches:</p>
<blockquote>
<div><ul class="simple">
<li><p>Branch from <code class="docutils literal notranslate"><span class="pre">develop</span></code></p></li>
<li><p>Naming convention: <code class="docutils literal notranslate"><span class="pre">package-*</span></code> where <code class="docutils literal notranslate"><span class="pre">*</span></code> is a version number</p></li>
</ul>
</div></blockquote>
<section id="release-policy-and-release-numbering">
<h2>Release policy and release numbering<a class="headerlink" href="#release-policy-and-release-numbering" title="Permalink to this heading"></a></h2>
<p>We use a <strong>MAJOR.MINOR.PATCH</strong> scheme to label releases. We adhere to the idea of <a class="reference external" href="http://semver.org/">semantic versioning</a> (semantic versioning was introduced with release 0.9, see <a class="reference external" href="https://github.com/MDAnalysis/mdanalysis/issues/200">Issue 200</a>): Given a version number <strong>MAJOR.MINOR.PATCH</strong>, we increment the:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>MAJOR</strong> version when we make <strong>incompatible API changes</strong>,</p></li>
<li><p><strong>MINOR</strong> version when we <strong>add functionality</strong> in a backwards-compatible manner, and</p></li>
<li><p><strong>PATCH</strong> version when we make backwards-compatible <strong>bug fixes</strong>.</p></li>
</ul>
</div></blockquote>
<p>However, as long as the <strong>MAJOR</strong> number is <strong>0</strong> (i.e. the API has not stabilized), even <strong>MINOR</strong> increases <em>may</em> introduce incompatible API changes. As soon as we have a 1.0.0 release, the public API can only be changed in a backward-incompatible manner with an increase in MAJOR version.</p>
<p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.</p>
<p>The <a class="reference external" href="https://github.com/MDAnalysis/mdanalysis/blob/develop/package/CHANGELOG">CHANGELOG</a> lists important changes for each release.</p>
<p><em>MAJOR</em>, <em>MINOR</em> and <em>PATCH</em> numbers are integers that increase monotonically.</p>
<p>The <strong>release number</strong> is set in <a class="reference external" href="https://github.com/MDAnalysis/mdanalysis/blob/develop/package/setup.py">setup.py</a> <em>and</em> in <code class="docutils literal notranslate"><span class="pre">MDAnalysis.__version__</span></code> (MDAnalysis/version.py), e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RELEASE</span> <span class="o">=</span> <span class="s1">&#39;0.7.5&#39;</span>
</pre></div>
</div>
<p><strong>While the code is in development</strong> (i.e. whenever we are not preparing a release!) the release number gets the suffix <strong>-dev0</strong>, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RELEASE</span> <span class="o">=</span> <span class="s1">&#39;0.7.6-dev0&#39;</span>
</pre></div>
</div>
<p>so that people using the <a class="reference internal" href="contributing_code.html#branches-in-mdanalysis"><span class="std std-ref">develop branch</span></a> from the source repository can immediately see that it is not a final release. For example, “0.7.6-dev0” is the state <em>before</em> the 0.7.6 release.</p>
</section>
<section id="typical-workflow-for-preparing-a-release">
<h2>Typical workflow for preparing a release<a class="headerlink" href="#typical-workflow-for-preparing-a-release" title="Permalink to this heading"></a></h2>
<section id="summary-of-tasks">
<h3>Summary of tasks<a class="headerlink" href="#summary-of-tasks" title="Permalink to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Declare a <cite>feature freeze</cite> on <cite>develop</cite> via discord and/or the developer mailing list</p></li>
<li><p>Finalize the <code class="docutils literal notranslate"><span class="pre">CHANGELOG</span></code> file with the date of release</p></li>
<li><p>Increment the version across <code class="docutils literal notranslate"><span class="pre">MDAnalysis</span></code> and <code class="docutils literal notranslate"><span class="pre">MDAnalysisTests</span></code> (4 places)</p></li>
<li><p><cite>Merge</cite> changes into <cite>develop</cite></p></li>
<li><p>Create a tag from <cite>develop</cite> named <cite>release-&lt;version_number&gt;</cite></p></li>
<li><p>Create a <cite>package-&lt;version_number&gt;</cite> branch from <cite>develop</cite></p></li>
<li><p>Add rebuilt <cite>C / C++</cite> files to <cite>package-&lt;version_number&gt;</cite></p></li>
<li><p>Create a tag from <cite>package-&lt;version_number&gt;</cite></p></li>
<li><p>Check automated testing of source distribution and wheel generation and upload</p></li>
<li><p>Create a new release from newly created tag</p></li>
<li><p>Check that deployment actions have adequately pushed dist and wheels to PyPi</p></li>
<li><p>Manually upload Cirrus CI wheels (temporary)</p></li>
<li><p>Update <cite>conda-forge</cite> packages</p></li>
<li><p>Create a blog post outlining the release</p></li>
<li><p>Increment develop branch files ready for the next version</p></li>
<li><p>Clean up old dev docs builds</p></li>
</ul>
</div></blockquote>
</section>
<section id="getting-the-develop-branch-ready-for-a-release">
<h3>Getting the develop branch ready for a release<a class="headerlink" href="#getting-the-develop-branch-ready-for-a-release" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Declare feature freeze on <code class="docutils literal notranslate"><span class="pre">develop</span></code> via <cite>discord</cite> and the <a class="reference external" href="https://groups.google.com/forum/#!forum/mdnalysis-devel">developer mailing list</a></p></li>
<li><p>Create a pre-release feature branch from <code class="docutils literal notranslate"><span class="pre">develop</span></code></p></li>
<li><p>Finalise the <code class="docutils literal notranslate"><span class="pre">CHANGELOG</span></code> with the release number and date. Ensure that the <code class="docutils literal notranslate"><span class="pre">CHANGELOG</span></code> summarizes important changes and includes all authors that contributed to this release.</p></li>
<li><p>Make sure the version number matches the release version. The following files need to be updated: <code class="docutils literal notranslate"><span class="pre">package/MDAnalysis/version.py</span></code>, <code class="docutils literal notranslate"><span class="pre">package/setup.py</span></code>, <code class="docutils literal notranslate"><span class="pre">testsuite/MDAnalysisTests/__init__.py</span></code>, and <code class="docutils literal notranslate"><span class="pre">testsuite/setup.py</span></code>.</p></li>
<li><p>Create a pull request against <code class="docutils literal notranslate"><span class="pre">develop</span></code> from this branch.</p></li>
</ol>
</section>
<section id="packaging-the-release">
<h3>Packaging the release<a class="headerlink" href="#packaging-the-release" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Create a new tag from <code class="docutils literal notranslate"><span class="pre">develop</span></code> named <code class="docutils literal notranslate"><span class="pre">release-&lt;version_number&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;version_number&gt;</span></code> is the release version number (this tag contains a snapshot of the Python source files as they were when the release was created):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>tag<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;release 0.7.5 of MDAnalysis and MDAnalysisTests&quot;</span><span class="w"> </span>release-0.7.5
git<span class="w"> </span>push<span class="w"> </span>--tags<span class="w"> </span>origin
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">package-&lt;version_number&gt;</span></code> branch from <code class="docutils literal notranslate"><span class="pre">develop</span></code>. This branch is automatically protected, so you will also need to create a separate branch to create commits via PR against <code class="docutils literal notranslate"><span class="pre">package-&lt;version_number&gt;</span></code>.</p></li>
<li><p>Generate new C/C++ files and commit them to the <code class="docutils literal notranslate"><span class="pre">package-&lt;version_number&gt;</span></code> branch via PR. We recommend generate the C/C++ files by building a <em>source distribution</em> tarball so you can check at the same time that there are no issues with the distribution creation process:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># MDAnalysis</span>
<span class="nb">cd</span><span class="w"> </span>package/
pipx<span class="w"> </span>run<span class="w"> </span>build<span class="w"> </span>--sdist
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Once committed, create a new tag based on <code class="docutils literal notranslate"><span class="pre">package-&lt;version_number&gt;</span></code> (this tag will contain a record of all the files as they were deployed to users for that version):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>tag<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;package 0.7.5 of MDAnalysis and MDAnalysisTests&quot;</span><span class="w"> </span>package-0.7.5
git<span class="w"> </span>push<span class="w"> </span>--tags<span class="w"> </span>origin
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Upon creation of the new <code class="docutils literal notranslate"><span class="pre">package-*</span></code> tag, the <a class="reference external" href="https://github.com/MDAnalysis/mdanalysis/tree/develop/.github/workflows/deploy.yaml">deploy github action</a> workflow will be automatically triggered to create source/wheels, upload them to testpypi, re-download them and run tests.</p></li>
<li><p>If all the tests come back green, you are good to go for a full release.</p>
<blockquote>
<div><ol class="arabic">
<li><p>If tests fail you will need to work out the cause of the failure.</p>
<blockquote>
<div><ol class="arabic">
<li><p>A temporary github actions failure</p>
<blockquote>
<div><p>Re-run the action and wait for the tests to complete</p>
</div></blockquote>
</li>
<li><p>An issue with the source code.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Delete the current <code class="docutils literal notranslate"><span class="pre">package-*</span></code> branch, and the newly created tags</p></li>
<li><p>Add the new changes to <code class="docutils literal notranslate"><span class="pre">develop</span></code> and restart the release process.</p></li>
<li><p>If the code had successfully uploaded to testpypi and failed later, you will need to create a test <code class="docutils literal notranslate"><span class="pre">package-*</span></code> tag which contains a different release number of in the source code (bumpy by a minor release or add a <code class="docutils literal notranslate"><span class="pre">-beta</span></code> modifier). Note: if the code had not successfully uploaded you can just continue the release process as normal.</p></li>
<li><p>If CI comes back green then delete the test tag, and create a normal <code class="docutils literal notranslate"><span class="pre">package-*</span></code> tag with the correct version number.</p></li>
<li><p>The github action will fail, but this is ok since we tested it with the test tag above.</p></li>
</ol>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</li>
</ol>
</section>
<section id="completing-the-release">
<h3>Completing the release<a class="headerlink" href="#completing-the-release" title="Permalink to this heading"></a></h3>
<p>If everything works, you can now complete the release by:</p>
<ol class="arabic">
<li><p>Creating a release on GitHub based on the newly created <code class="docutils literal notranslate"><span class="pre">package-&lt;version_number&gt;</span></code> tag.</p></li>
<li><p>Make sure you include relevant release notes, including any known issues and highlights for the release.</p></li>
<li><p>Once published, the <a class="reference external" href="https://github.com/MDAnalysis/mdanalysis/tree/develop/.github/workflows/deploy.yaml">deploy github action</a> will be triggered which will upload the source distributions and wheels to PyPI.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>If the <a class="reference external" href="https://github.com/MDAnalysis/mdanalysis/tree/develop/.github/workflows/deploy.yaml">deploy github action</a> fails and no files have been uploaded, then restart the action.</p></li>
<li><p>If the action fails and some files have been uploaded, then you will not be able to re-upload to PyPI. At this point you will need to yank the release from PyPI and create a new minor version and re-deploy it.</p></li>
</ol>
</div></blockquote>
</li>
</ol>
</section>
<section id="manually-upload-cirrus-ci-wheels-temporary">
<h3>Manually upload Cirrus CI wheels (temporary)<a class="headerlink" href="#manually-upload-cirrus-ci-wheels-temporary" title="Permalink to this heading"></a></h3>
<p>Unfortunately the deployment of Cirrus CI generated wheels (for <cite>osx-arm64</cite> and <cite>linux-aarch64</cite>) does not get properly triggered by a release. However, they are properly uploaded to <a class="reference external" href="https://test.pypi.org/project/MDAnalysis/">TestPyPi</a></p>
<ol class="arabic">
<li><p>Go to the recently updated TestPyPi release and download all the <cite>.whl</cite> files which have the tags <cite>arm64</cite> and <cite>aarch64</cite>.</p></li>
<li><p>From a local directory upload these wheels using <code class="docutils literal notranslate"><span class="pre">twine</span></code>.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine<span class="w"> </span>upload<span class="w"> </span>-r<span class="w"> </span>pypi<span class="w"> </span>*.whl<span class="w"> </span>--verbose
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="update-conda-forge-packages">
<h3>Update <cite>conda-forge</cite> packages<a class="headerlink" href="#update-conda-forge-packages" title="Permalink to this heading"></a></h3>
<p>On push to PyPI, the conda-forge bot should automatically pick up the presense of a new version and create a pull request on the <a class="reference external" href="https://github.com/conda-forge/mdanalysis-feedstock">MDAnalysis feedstock</a> and the <a class="reference external" href="https://github.com/conda-forge/mdanalysistests-feedstock">MDAnalysisTests feedstock</a>. You will need to merge the MDAnalysis feedstock followed by the MDAnalysisTests feedstock in order for the new package to appear on conda-forge.</p>
<p>To do this you will need to:</p>
<ol class="arabic simple">
<li><p>Update the <code class="docutils literal notranslate"><span class="pre">meta.yaml</span></code> files as necessary, especially bumping up the python and dependency minimum versions as necessary.</p></li>
<li><p>If NumPy pins differ from those conda-forge uses, you will need to update the <code class="docutils literal notranslate"><span class="pre">conda_build_config.yaml</span></code> accordingly.</p></li>
<li><p>Ask the conda-forge bot to re-render, check that CI returns green, approve and merge the pull request.</p></li>
</ol>
</section>
<section id="create-a-release-of-the-userguide">
<h3>Create a release of the UserGuide<a class="headerlink" href="#create-a-release-of-the-userguide" title="Permalink to this heading"></a></h3>
<p>For now, the UserGuide is released at the same time as the core library. To make a release of the UserGuide you should:</p>
<ol class="arabic">
<li><p>Create a new release tag and upload them for the UserGuide repository.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>tag<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;release 2.6.1 of the MDAnalysis UserGuide&#39;</span><span class="w"> </span>release-2.6.1
git<span class="w"> </span>push<span class="w"> </span>--tags<span class="w"> </span>origin
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This will automatically trigger a Github Action to build a new set of docs for that release and upload them. Due to the large size of the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch on the UserGuide, this can be both slow and flaky, make sure to keep an eye out for any potential failures.</p></li>
</ol>
</section>
<section id="create-a-blog-post-outlining-the-release">
<h3>Create a blog post outlining the release<a class="headerlink" href="#create-a-blog-post-outlining-the-release" title="Permalink to this heading"></a></h3>
<p>Create a blog post outlining the release notes and publicize it on the mailing list / discord / twitter/ etc…!</p>
</section>
<section id="increment-develop-branch-files-ready-for-the-next-version">
<h3>Increment develop branch files ready for the next version<a class="headerlink" href="#increment-develop-branch-files-ready-for-the-next-version" title="Permalink to this heading"></a></h3>
<p>Once the release is completed you can go ahead and update the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch so that it is ready for the next round of development.</p>
<ol class="arabic simple">
<li><p>Update the 4 version file locations with the <code class="docutils literal notranslate"><span class="pre">-dev0</span></code> appended version of the next release.</p></li>
<li><p>Update the CHANGELOG with a new entry for the next release.</p></li>
<li><p>Once these changes are merged into the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch, message the developers on discord and the mailing list letting them know that the feature freeze is over.</p></li>
</ol>
</section>
<section id="clean-up-old-developer-builds-of-the-documentation">
<h3>Clean up old developer builds of the documentation<a class="headerlink" href="#clean-up-old-developer-builds-of-the-documentation" title="Permalink to this heading"></a></h3>
<p>Whilst new docs are automatically deployed on a release, old developer builds (appended with <code class="docutils literal notranslate"><span class="pre">-dev</span></code>) are not automatically cleaned up. To avoid causing large amounts of files being uploaded to GitHub Pages, we need to delete these old developer builds manually. To do this switch to the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch, delete these old files, and push the change directly. You should do this for both the core library and the UserGuide.</p>
<p>While this is still a manual procedure, you should also edit <cite>versions.json</cite> to remove the old dev links.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contributing_docs.html" class="btn btn-neutral float-left" title="Contributing to the user guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="module_imports.html" class="btn btn-neutral float-right" title="Module imports in MDAnalysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2023, Lily Wang, Irfan Alibay, Patricio Barletta, Cédric Bouysset, Jan Domanski, Bjarne Feddersen, Florent Langenfeld, Hugo MacDermott-Opeskin, Rocco Meli, Paul Smith, Mieczyslaw Torchala, Mark Verma, Yuxuan Zhuang, Richard J. Gowers, and Oliver Beckstein..</p>
  </div>

  

<div class="footer"><p>Please see
    our <a href="https://www.mdanalysis.org/pages/privacy/">Privacy Policy</a>
    to learn how <a href="https://www.mdanalysis.org">MDAnalysis</a> collects data.</p>
    <script data-goatcounter="https://mdanalysis.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
    var versions_json_url = 'https://userguide.mdanalysis.org/versions.json'
</script>

<div class="rst-versions" data-toggle="rst-versions" role="note"
     aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"></span>
        
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
        <dl id="versionselector">
            <dt>Other Versions</dt>
        </dl>

    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>